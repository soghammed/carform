(this.webpackJsonpjalal_car_booking_form=this.webpackJsonpjalal_car_booking_form||[]).push([[0],{170:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(32),c=a.n(r),o=(a(85),a(86),a(31)),m=a(6),u=a(18),i=a(19),s=a(40),d=a(39),p=(a(87),a(88),a(75)),E=a.n(p),h=function(e){Object(s.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).handleSelectChange=function(e){var t=e.target.value;if(!isNaN(e.target.value)){var a=n.state.data.filter((function(e){return e.id===t}));a?n.setState({selected:a}):console.log("form not found")}},n.state={data:[],selected:null,backend_url:"https://devhammed.000webhostapp.com/car_form_ajax.php"},n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.loadData()}},{key:"loadData",value:function(){var e=this;E.a.get(this.state.backend_url+"?data=1").then((function(t){e.setState({data:t.data})})).catch((function(e){return console.log(e)}))}},{key:"renderFormOptions",value:function(){if(this.state.data.length>0)return this.state.data.map((function(e){return l.a.createElement("option",{key:e.id,id:e.id,name:e.full_name,value:e.id},e.full_name)}))}},{key:"renderFormDetails",value:function(){if(this.state.selected){var e=this.state.selected[0];return l.a.createElement("table",null,l.a.createElement("tbody",null,l.a.createElement("tr",null,l.a.createElement("td",null,"Full Name"),l.a.createElement("td",null,e.full_name)),l.a.createElement("tr",null,l.a.createElement("td",null,"Tetra"),l.a.createElement("td",null,e.tetra_1)),l.a.createElement("tr",null,l.a.createElement("td",null,"Company"),l.a.createElement("td",null,e.company)),l.a.createElement("tr",null,l.a.createElement("td",null,"Supervisor Name:"),l.a.createElement("td",null,e.supervisor_name)),l.a.createElement("tr",null,l.a.createElement("td",null,"Tetra:"),l.a.createElement("td",null,e.tetra_2)),l.a.createElement("tr",null,l.a.createElement("td",null,"From:"),l.a.createElement("td",null,e.from_date)),l.a.createElement("tr",null,l.a.createElement("td",null,"Odemeter Reading:"),l.a.createElement("td",null,e.from_odemeter_reading)),l.a.createElement("tr",null,l.a.createElement("td",null,"To:"),l.a.createElement("td",null,e.to_date)),l.a.createElement("tr",null,l.a.createElement("td",null,"Odemeter Reading:"),l.a.createElement("td",null,e.to_odemeter_reading)),l.a.createElement("tr",null,l.a.createElement("td",null,"Asset Number:"),l.a.createElement("td",null,e.asset_number)),l.a.createElement("tr",null,l.a.createElement("td",null,"Signature Date:"),l.a.createElement("td",null,e.signature_date)),l.a.createElement("tr",null,l.a.createElement("td",null,"Signature:"),l.a.createElement("td",null,l.a.createElement("img",{src:e.signature_pad})))))}return l.a.createElement("div",null,"^ Please Select a form to view ^")}},{key:"render",value:function(){var e=this.renderFormOptions(),t=this.renderFormDetails();return l.a.createElement("div",{className:"wrapper"},l.a.createElement("select",{name:"form",onChange:this.handleSelectChange},l.a.createElement("option",null,"Choose a form"),e),l.a.createElement("button",{className:"print_btn",onClick:function(){return window.print()}},"Print"),l.a.createElement("hr",null),l.a.createElement("div",{className:"print"},t))}}]),a}(l.a.Component),g=a(11),f=a(43),v=a.n(f),_=(a(106),a(79)),b=a(53),y=a.n(b),k=function(e){Object(s.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).handleSignatureDateChange=function(e){n.setState((function(t){return Object(g.a)(Object(g.a)({},t),{},{booking:Object(g.a)(Object(g.a)({},t.booking),{},{signature_date:e})})}))},n.updateSignaturePad=function(e){n.setState({signaturePad:e.toDataURL()})},n.handleFromChange=function(e){n.setState((function(t){return Object(g.a)(Object(g.a)({},t),{},{booking:Object(g.a)(Object(g.a)({},t.booking),{},{from:e})})}))},n.handleToChange=function(e){n.setState((function(t){return Object(g.a)(Object(g.a)({},t),{},{booking:Object(g.a)(Object(g.a)({},t.booking),{},{to:e})})}))},n.state={backend_url:"https://devhammed.000webhostapp.com/car_form_ajax.php",debug_backend_url:"http://localhost:80/jalal/booking_form/api/car_form_ajax.php",car_form:1,driver:{full_name:"",supervisor_name:"",company:"",tetra1:"",tetra2:""},booking:{from:new Date,to:new Date,odometer_reading:"",odemeter_reading:"",signature:"",signature_date:new Date},vehicle:{asset_number:""},text:{pre_before_return:"Before Returning a Pool Vehicle Please ensure you do the following:",post_before_return:"Note: Failure to comply with the above checklist could result in declining the pool vehicle in future.\n\t\t\t\t   *By signing this document, you agreeing to the terms and conditions of chevron.\n\t\t\t\t"},signaturePad:""},n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e,t=this;y()(document).ready((function(){var a=document.querySelector("canvas");y.a.Event("keypress");e=new _.a(a,{minWidth:1,maxWidth:2,onEnd:function(){return t.updateSignaturePad(e)}}),document.querySelector('input[name="full_name"]').value="example",document.querySelector('input[name="tetra1"]').value="example",document.querySelector('input[name="company"]').value="example",document.querySelector('input[name="supervisor_name"]').value="example",document.querySelector('input[name="tetra2"]').value="example",document.querySelector('input[name="from_odemeter_reading"]').value="example",document.querySelector('input[name="to_odemeter_reading"]').value="example",document.querySelector('input[name="asset_number"]').value=1344}))}},{key:"clearCanvas",value:function(){var e=document.querySelector(".cc");e.getContext("2d").clearRect(0,0,e.width,e.height)}},{key:"render",value:function(){var e=this,t=l.a.createElement("form",{method:"post",action:this.state.backend_url},l.a.createElement("h3",null,l.a.createElement("u",null,"Driver Details")),l.a.createElement("div",{className:"group_field"},l.a.createElement("div",{className:"contain"},l.a.createElement("span",null,"Full Name:"),"\xa0",l.a.createElement("input",{type:"text",name:"full_name"})),l.a.createElement("div",{className:"contain"},l.a.createElement("span",null,"Tetra:"),"\xa0",l.a.createElement("input",{type:"text",name:"tetra1"}))),l.a.createElement("div",{className:"contain"},l.a.createElement("span",null,"Company:"),"\xa0\xa0",l.a.createElement("input",{type:"text",name:"company"})),l.a.createElement("div",{className:"group_field"},l.a.createElement("div",{className:"contain"},l.a.createElement("span",null,"Supervisor Name:"),"\xa0",l.a.createElement("input",{type:"text",name:"supervisor_name"})),l.a.createElement("div",{className:"contain"},l.a.createElement("span",null,"Tetra:"),"\xa0",l.a.createElement("input",{type:"text",name:"tetra2"}))),l.a.createElement("h3",null,l.a.createElement("u",null,"Booking Details")),l.a.createElement("div",{className:"group_field"},l.a.createElement("div",{className:"contain"},l.a.createElement("span",null,"From:"),"\xa0",l.a.createElement(v.a,{name:"from_date",selected:this.state.booking.from,onChange:this.handleFromChange})),l.a.createElement("div",{className:"contain"},l.a.createElement("span",null,"Odemeter reading:"),"\xa0",l.a.createElement("input",{type:"text",name:"from_odemeter_reading"}))),l.a.createElement("div",{className:"group_field"},l.a.createElement("div",{className:"contain"},l.a.createElement("span",null,"To:"),"\xa0",l.a.createElement(v.a,{name:"to_date",selected:this.state.booking.to,onChange:this.handleToChange})),l.a.createElement("div",{className:"contain"},l.a.createElement("span",null,"Odemeter reading:"),"\xa0",l.a.createElement("input",{type:"text",name:"to_odemeter_reading"}))),l.a.createElement("h3",null,l.a.createElement("u",null,"Vehicle Details")),l.a.createElement("div",{className:"contain"},l.a.createElement("span",null,"Asset Number:"),"\xa0",l.a.createElement("input",{type:"text",name:"asset_number"})),this.state.text.pre_before_return,l.a.createElement("ol",null,l.a.createElement("li",null,"-  Fill the fuel tank"),l.a.createElement("li",null,"-  Ensure cleaning the car"),l.a.createElement("li",null,"-  Park the car in the designated pool vehicle parking and isolate it."),l.a.createElement("li",null,"-  Return the key to pool office upstairs.")),this.state.text.post_before_return,l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("div",{className:"group_field"},l.a.createElement("span",null,"Signature: "),"\xa0",l.a.createElement("div",{className:"contain"},l.a.createElement("canvas",{style:{border:"1px solid grey"},className:"cc"}),l.a.createElement("span",{onClick:function(){return e.clearCanvas()}},"X")),"\xa0\xa0",l.a.createElement("div",{className:"contain"},l.a.createElement("span",null,"Date:"),"\xa0",l.a.createElement(v.a,{name:"signature_date",selected:this.state.booking.signature_date,onChange:this.handleSignatureDateChange}))),l.a.createElement("input",{type:"hidden",name:"signaturePad",value:this.state.signaturePad}),l.a.createElement("input",{style:{float:"right"},type:"submit",name:"carForm",value:"Book"}));return l.a.createElement("div",null,t)}}]),a}(l.a.Component),N=function(){return l.a.createElement(m.c,null,l.a.createElement(m.a,{exact:!0,path:"/",component:k}),l.a.createElement(m.a,{exact:!0,path:"/carform",component:k}),l.a.createElement(m.a,{exact:!0,path:"/carform/view",component:h}))},S=function(){return l.a.createElement("div",{className:"App"},l.a.createElement(o.b,{to:"/carform/view"},l.a.createElement("img",{className:"logo",src:"logo1.png"})),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement(N,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(o.a,null,l.a.createElement(S,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},80:function(e,t,a){e.exports=a(170)},85:function(e,t,a){},86:function(e,t,a){},87:function(e,t,a){},88:function(e,t,a){}},[[80,1,2]]]);
//# sourceMappingURL=main.705585b8.chunk.js.map